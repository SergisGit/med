!function(){"use strict";function e(){window.matchMedia("(min-width: 768px)").matches&&(0===$(window).scrollTop()&&(h.style.position="absolute",h.style.animation="",h.style.transform="translate3d(0,0,0)"),$(window).scrollTop()>=350&&(h.style.position="fixed",h.style.transform="",h.style.animation="animateMenu 0.5s forwards"))}function t(e,t){function n(){b.style.display="",e.classList.remove("popup_animated"),k.classList.remove("popup-overlay_showed"),f.classList.remove("overflow");for(var t=1;t<v.length;t+=1)v[t].style.display="none";e!=q&&e!=x||(v[0].style.display="block"),window.removeEventListener("keydown",o),document.removeEventListener("click",s),e==q&&(B.removeEventListener("click",i),P.removeEventListener("click",c),D.removeEventListener("click",a)),e==x&&(U.removeEventListener("click",i),H.removeEventListener("click",r)),e==A&&(O.removeEventListener("focus",u),document.removeEventListener("click",m))}function o(t){27===t.keyCode&&e.classList.contains("popup_animated")&&n()}function s(t){!e.classList.contains("popup_animated")||t.target!=b&&t.target!=p||n()}function i(){v[0].style.display="none",v[1].style.display="block"}function r(){v[1].style.display="none",v[0].style.display="block"}function c(){v[0].style.display="none",v[2].style.display="block"}function a(){v[3].style.display="none",v[2].style.display="block"}function l(e){e.preventDefault(),n(),z.removeEventListener("click",l),I.click()}function d(e){e.preventDefault(),n(),C.removeEventListener("click",d),E.click()}function u(){W.style.display="block"}function m(e){var t=e.target;(t.classList.contains("popup-city__item")||t.classList.contains("popup-city__popular-city"))&&(e.preventDefault(),O.value=t.textContent),e.target!=O&&setTimeout(function(){W.style.display=""},10)}var p=e.querySelector(".popup__close-btn"),v=e.querySelectorAll(".popup__item");t.addEventListener("click",function(t){t.preventDefault(),b.style.display="flex",k.classList.add("popup-overlay_showed"),e.classList.add("popup_animated"),f.classList.add("overflow"),window.addEventListener("keydown",o),document.addEventListener("click",s),e==q&&(z.addEventListener("click",l),B.addEventListener("click",i),P.addEventListener("click",c),D.addEventListener("click",a)),e==x&&(C.addEventListener("click",d),U.addEventListener("click",i),H.addEventListener("click",r)),e==A&&(O.addEventListener("focus",u),document.addEventListener("click",m))})}function n(e,t,n,o){for(var s,i=0;i<e.length;i+=1)e[i].classList.contains(o)&&(s=n*i,t.style.transform="translateX("+s+"%)")}function o(e,t,o,s,i){e.addEventListener("click",function(e){var r=e.target;if(r.classList.contains("slider__toggle")){if(e.preventDefault(),r.classList.contains(i))return!1;for(var c=0;c<t.length;c+=1)t[c].classList.remove(i);r.classList.add(i),n(t,o,s,i)}})}function s(e,t,o,s){for(var i=0;i<e.length;i+=1)if(e[i].classList.contains(s)&&i!=e.length-1){e[i].classList.remove(s),e[i+1].classList.add(s),n(e,t,o,s);break}}function i(e,t,o,s){for(var i=0;i<e.length;i+=1)if(e[i].classList.contains(s)&&0!=i){e[i].classList.remove(s),e[i-1].classList.add(s),n(e,t,o,s);break}}function r(e,t,n,o){t.addEventListener("touchstart",function(e){r=e.touches[0].clientX,c=e.touches[0].clientY},!1),t.addEventListener("touchmove",function(a){if(r&&c){var l=a.touches[0].clientX,d=a.touches[0].clientY,u=r-l,m=c-d;Math.abs(u)+Math.abs(m)>150&&(Math.abs(u)>Math.abs(m)&&(u>0?s(e,t,n,o):i(e,t,n,o)),r=null,c=null)}},!1);var r=null,c=null}function c(){Q.style.boxShadow="none",Q.style.borderColor="#e7eaec"}function a(){Q.style.boxShadow="",Q.style.borderColor=""}function l(e,t){function n(){r.style.display="block",i.style.display="none"}function o(n){var s=n.target;if(n.preventDefault(),s.classList.contains("search-context__item")){if(s.classList.contains("search-context__item_doctor")){var i=s.querySelector(".search-context__doctor-name").textContent,r=s.querySelector(".search-context__doctor-kind").textContent;e.value=i+" - "+r}else e.value=s.textContent;t.removeEventListener("click",o)}}function s(l){l.target!=e&&l.target!=c&&(l.target!=K&&l.target!=V&&a(),e.removeEventListener("input",n),t.removeEventListener("click",o),document.removeEventListener("click",s),t.style.display="",r.style.display="",i.style.display="")}t.style.display="block";var i=t.querySelector(".search-context__last"),r=t.querySelector(".search-context__search"),c=e.nextElementSibling;e.addEventListener("input",n),t.addEventListener("click",o),document.addEventListener("click",s)}function d(){h.style.position="absolute",window.removeEventListener("scroll",e,!1),k.classList.add("popup-overlay_showed-mobile"),g.classList.add("overflow-mobile"),g.classList.add("page-move"),_.classList.add("add-perspective"),ve.classList.add("shadow1-change"),fe.classList.add("shadow2-change"),me.classList.add("scale-tablet"),pe.classList.add("search-open"),pe.scrollIntoView(!1)}function u(){k.classList.remove("popup-overlay_showed-mobile"),g.classList.remove("overflow-mobile"),g.classList.remove("page-move"),ve.classList.remove("shadow1-change"),fe.classList.remove("shadow2-change"),me.classList.remove("scale-tablet"),_.classList.remove("add-perspective"),pe.classList.remove("search-open"),window.matchMedia("(min-width: 768px)").matches?setTimeout(function(){$(window).scrollTop()>=350&&(h.style.position="fixed",h.style.transform="",h.style.animation="animateMenu 0.5s forwards")},1100):h.style.position="fixed",setTimeout(function(){window.addEventListener("scroll",e,!1)},1200)}function m(){for(Le.classList.remove("show-filters"),f.classList.remove("overflow-no-widescreen"),f.classList.remove("overflow"),F=0;F<Ee.length;F+=1)Ee[F].classList.remove("show-filter-forms");h.classList.remove("zindex")}function p(){Te.classList.remove("visible-10"),f.classList.remove("overflow-no-widescreen")}function v(){for(F=0;F<Ee.length;F+=1){var e=ke[F].getBoundingClientRect(),t=e.left+pageXOffset,n=e.top+pageYOffset;window.matchMedia("(min-width: 1430px)").matches?(Ee[F].style.left=t+"px",Ee[F].style.top=n+"px"):(Ee[F].style.left="",Ee[F].style.top="")}}var f=document.querySelector(".body"),y=document.querySelector(".main-search"),_=document.querySelector(".body__wrapper"),g=document.querySelector(".body__inner"),h=document.querySelector(".main-nav"),w=document.querySelector(".main-nav__check"),L=document.querySelector(".reviews__slider"),S=document.querySelector(".advantages"),k=document.querySelector(".popup-overlay"),b=document.querySelector(".popup-wrapper"),q=document.querySelector(".checkIn"),E=document.querySelector(".main-nav__link_reg"),x=document.querySelector(".signIn"),I=document.querySelector(".main-nav__link_enter"),T=document.querySelector(".main-nav__location-link"),M=document.querySelector(".main-nav__location-link2"),A=document.querySelector(".popup-city"),C=document.querySelector(".popup__reg-link"),z=document.querySelector(".popup__sign-link"),B=document.querySelector(".checkIn__1-btn_email"),P=document.querySelector(".checkIn__1-btn_phone"),D=document.querySelector(".popup__input-svg_back"),U=document.querySelector(".signIn__1-forgot-pass"),H=document.querySelector(".signIn__2-bethinked-pass"),O=(document.querySelector(".checkIn__social-block"),document.querySelector(".popup-city__input")),W=document.querySelector(".popup-city__items");(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios"),w.addEventListener("change",function(){w.checked?f.classList.add("overflow-mobile"):f.classList.remove("overflow-mobile")}),window.addEventListener("scroll",e,!1),t(q,E),t(x,I),t(A,T),t(A,M);var Y=!1,N=function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.bottom;return n>=0&&o<=window.innerHeight};if(S){for(var R=S.querySelectorAll(".advantages__description-wrapper"),X=S.querySelectorAll(".advantages__number"),G=S.querySelectorAll(".advantages__number-pre-in"),j=S.querySelectorAll(".advantages__number-past-in"),F=0;F<R.length;F+=1)R[F].style.transform="translate3d(0,100px,0)",R[F].style.opacity="0";document.addEventListener("DOMContentLoaded",J,!1),window.addEventListener("scroll",function(e){0==Y&&window.requestAnimationFrame(function(){J(e),Y=!1}),Y=!0},!1);var J=function(e){N(G[0])&&(G[0].style.transform="scaleY(1)",setTimeout(function(){X[0].style.animation="rubberBand 1s forwards",R[0].style.animation="toUp 0.3s forwards",setTimeout(function(){j[0].style.transform="scaleY(1)",setTimeout(function(){G[1].style.transform="scaleY(1)",setTimeout(function(){X[1].style.animation="rubberBand 1s forwards",R[1].style.animation="toUp 0.3s forwards",setTimeout(function(){j[1].style.transform="scaleY(1)",setTimeout(function(){G[2].style.transform="scaleY(1)",setTimeout(function(){X[2].style.animation="rubberBand 1s forwards",R[2].style.animation="toUp 0.3s forwards"},300)},300)},300)},300)},300)},300)},500))}}L&&function(e,t,n){var c=e.querySelector(".slider__list"),a=e.querySelector(".slider__toggles"),l=a.querySelectorAll(".slider__toggle"),d=e.querySelector(".slider__prev"),u=e.querySelector(".slider__next");o(a,l,c,t,n),r(l,c,t,n),d&&u&&(u.addEventListener("click",function(){s(l,c,t,n)}),d.addEventListener("click",function(){i(l,c,t,n)}))}(L,-100,"reviews__toggle-index");var V=document.querySelector(".main-index__search-input_services"),K=document.querySelector(".main-index__search-input_city"),Q=document.querySelector(".main-index__search-wrapper"),Z=document.querySelector(".main-index__search-context_services-and-history"),ee=document.querySelector(".main-index__search-context_location-and-history"),te=document.querySelector(".popup-search__input_services"),ne=document.querySelector(".popup-search__input_city"),oe=document.querySelector(".popup-search__context_services-and-history"),se=document.querySelector(".popup-search__context_location-and-history");V&&(V.onclick=function(){c(),l(V,Z)}),K&&(K.onclick=function(){c(),l(K,ee)}),te.onclick=function(){l(te,oe)},ne.onclick=function(){l(ne,se)};for(var ie=document.querySelectorAll(".clear-svg"),re=0;re<ie.length;re+=1)ie[re].addEventListener("click",function(e){for(var t=e.target.previousElementSibling;"INPUT"!=t.tagName;)t=t.previousElementSibling;t.value="",t.classList.contains("checkIn__2-password-field")&&$(".checkIn__2-password-field ~ .popup__password-strong-message").text(""),t.classList.contains("checkIn__5-password-field")&&$(".checkIn__5-password-field ~ .popup__password-strong-message").text("")});for(var ce=document.querySelectorAll(".password-svg"),ae=0;ae<ce.length;ae+=1)ce[ae].addEventListener("click",function(e){for(var t=e.target.previousElementSibling;"INPUT"!=t.tagName;)t=t.previousElementSibling;"password"==t.type?t.setAttribute("type","text"):t.setAttribute("type","password")});var le=document.querySelector(".main-nav__search-link"),de=document.querySelector(".main-index__search-input-trick"),ue=document.querySelector(".popup-search__close-btn"),me=document.querySelector(".close-search-btn"),pe=document.querySelector(".popup-search"),ve=document.querySelector(".page-shadow1"),fe=document.querySelector(".page-shadow2");le.addEventListener("click",d),de&&de.addEventListener("click",d),ue.addEventListener("click",u),me.addEventListener("click",u),document.addEventListener("keyup",function(e){27==e.keyCode&&u()});var ye={prefix:"custom-scroll_",barMinHeight:10,offsetTop:0,offsetBottom:0,trackWidth:10,barMinWidth:10,offsetLeft:0,offsetRight:0,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!1},_e={prefix:"custom-scroll-2_",barMinHeight:10,offsetTop:0,offsetBottom:0,trackWidth:10,barMinWidth:10,offsetLeft:0,offsetRight:0,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!1};if($("#scroll-1").customScroll(ye),$("#scroll-2").customScroll(ye),$("#scroll-3").customScroll(_e),$("#scroll-4").customScroll(_e),$("#scroll-5").customScroll(_e),y){var ge=document.querySelector(".card-sorting__check"),he=document.querySelector(".card-sorting"),we=document.querySelector(".main-search__filters-toggle"),Le=document.querySelector(".search-filters"),Se=document.querySelector(".search-filters__close-btn"),ke=document.querySelectorAll(".search-filters__filter-wrapper"),be=document.querySelectorAll(".search-filters__filter"),qe=document.querySelectorAll(".search-filters__form-wrapper"),Ee=document.querySelectorAll(".search-filters__form"),xe=document.querySelectorAll(".search-filters__form-cancel"),Ie=document.querySelector(".main-search__map-btn"),Te=document.querySelector(".map-container"),Me=document.querySelector(".map-container__close-btn");v(),window.addEventListener("resize",function(){v()}),document.addEventListener("click",function(e){var t;for(he.contains(e.target)&&!e.target.classList.contains("card-sorting__variant")||1!=ge.checked||(ge.checked=""),we.contains(e.target)&&(Le.classList.add("show-filters"),f.classList.add("overflow-no-widescreen")),Se.contains(e.target)&&m(),t=0;t<be.length;t+=1)be[t].contains(e.target)&&(qe[t].classList.add("show-filter-forms"),h.classList.add("zindex"),f.classList.add("overflow"));for(t=0;t<xe.length;t+=1)xe[t].contains(e.target)&&(qe[t].classList.remove("show-filter-forms"),h.classList.remove("zindex"),f.classList.remove("overflow"));Ie.contains(e.target)&&(Te.classList.add("visible-10"),f.classList.add("overflow-no-widescreen")),Me.contains(e.target)&&p()}),window.addEventListener("keydown",function(e){27===e.keyCode&&(m(),p())})}if(document.querySelector(".price-block")){var Ae=document.getElementById("filter-range"),Ce=document.getElementById("filter-price-min"),$e=document.getElementById("filter-price-max"),ze=[Ce,$e],Be=parseInt(Ae.dataset.left),Pe=parseInt(Ae.dataset.right),De=parseInt(Ae.dataset.min),Ue=parseInt(Ae.dataset.max),He=function(e){e.value=e.value.replace(/[^\d]+/g,"")};Ce.oninput=function(){He(Ce),Ce.style.width=8*Ce.value.length+"px"},$e.oninput=function(){He($e),$e.style.width=8*$e.value.length+"px"},noUiSlider.create(Ae,{start:[Be,Pe],connect:!0,step:10,range:{min:De,max:Ue},format:wNumb({decimals:0})}),Ae.noUiSlider.on("update",function(e,t){ze[t].value=e[t],Ce.style.width=8*Ce.value.length+"px",$e.style.width=8*$e.value.length+"px"});var Oe=function(e,t){var n=[null,null];n[e]=t,Ae.noUiSlider.set(n)};ze.forEach(function(e,t){e.addEventListener("change",function(){Oe(t,this.value)}),e.addEventListener("keydown",function(e){var n,o=Ae.noUiSlider.get(),s=Number(o[t]),i=Ae.noUiSlider.steps()[t];switch(e.which){case 13:Oe(t,this.value),e.preventDefault();break;case 38:!1===(n=i[1])&&(n=1),null!==n&&Oe(t,s+n);break;case 40:!1===(n=i[0])&&(n=1),null!==n&&Oe(t,s-n)}})});var We=Ae.clientWidth,Ye=$(".bar");$.fn.peity.defaults.bar={delimiter:",",fill:["#e6e6e6"],height:40,max:null,min:0,padding:.1,width:We},Ye.peity("bar"),$(window).resize(function(){Ye.peity("bar",{width:0}),We=Ae.clientWidth,Ye.peity("bar",{width:We})})}}(),$(document).ready(function(){document.querySelector(".cutted-text")&&$(".cutted-text").dotdotdot({ellipsis:"… ",truncate:"word",keep:null,watch:"window",tolerance:0})}),function(){document.getElementById("map")&&google.maps.event.addDomListener(window,"load",function(){var e=new google.maps.LatLng(56.499883782746224,84.99850023423404),t={zoom:16,center:e,disableDefaultUI:!0,draggable:!0,scrollwheel:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}},n=new google.maps.Map(document.getElementById("map"),t);n.data.loadGeoJson("json/googleMap.json");var o=new google.maps.MarkerImage("./assets/icons/mappin.svg",new google.maps.Size(44,36)),s=new google.maps.MarkerImage("./assets/icons/mappin-h.svg",new google.maps.Size(44,36));n.data.setStyle(function(e){return{icon:o}});var i=new google.maps.InfoWindow({maxWidth:280});n.data.addListener("mouseover",function(e){n.data.revertStyle(),n.data.overrideStyle(e.feature,{icon:s}),i.setPosition(e.feature.getGeometry().get()),i.setOptions({pixelOffset:new google.maps.Size(0,-30)});var t=e.feature.getProperty("faceImage"),o=e.feature.getProperty("alt"),r=e.feature.getProperty("name"),c=e.feature.getProperty("description"),a=e.feature.getProperty("stars"),l=e.feature.getProperty("address");i.setContent('<div class="infowindow"><div class="infowindow__image-wrapper"><img class="infowindow__image" src= "'+t+'" alt="'+o+'"></div><div class="infowindow__content"><div class="infowindow__title">'+r+'</div><div class="infowindow__description">'+c+'</div><div class="infowindow__stars-container"><div class="infowindow__stars" style="width:'+a+'"></div></div><div class="infowindow__description">'+l+"</div></div></div>"),i.open(n)}),google.maps.event.addListener(n,"click",function(e){i&&(i.close(),n.data.revertStyle())}),google.maps.event.addDomListener(window,"resize",function(){n.setCenter(e)})})}();