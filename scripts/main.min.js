!function(){"use strict";function e(){window.matchMedia("(min-width: 768px)").matches&&(0===$(window).scrollTop()&&(f.style.position="absolute",f.style.animation="",f.style.transform="translate3d(0,0,0)"),$(window).scrollTop()>=350&&(f.style.position="fixed",f.style.transform="",f.style.animation="animateMenu 0.5s forwards"))}function t(e,t){function n(){w.style.display="",e.classList.remove("popup_animated"),L.classList.remove("popup-overlay_showed"),m.classList.remove("overflow");for(var t=1;t<y.length;t+=1)y[t].style.display="none";e!=k&&e!=b||(y[0].style.display="block"),window.removeEventListener("keydown",o),document.removeEventListener("click",i),e==k&&(M.removeEventListener("click",r),C.removeEventListener("click",s),B.removeEventListener("click",l)),e==b&&(D.removeEventListener("click",r),U.removeEventListener("click",c)),e==I&&(H.removeEventListener("focus",u),document.removeEventListener("click",p))}function o(t){27===t.keyCode&&e.classList.contains("popup_animated")&&n()}function i(t){!e.classList.contains("popup_animated")||t.target!=w&&t.target!=v||n()}function r(){y[0].style.display="none",y[1].style.display="block"}function c(){y[1].style.display="none",y[0].style.display="block"}function s(){y[0].style.display="none",y[2].style.display="block"}function l(){y[3].style.display="none",y[2].style.display="block"}function a(e){e.preventDefault(),n(),A.removeEventListener("click",a),q.click()}function d(e){e.preventDefault(),n(),T.removeEventListener("click",d),S.click()}function u(){z.style.display="block"}function p(e){var t=e.target;(t.classList.contains("popup-city__item")||t.classList.contains("popup-city__popular-city"))&&(e.preventDefault(),H.value=t.textContent),e.target!=H&&setTimeout(function(){z.style.display=""},10)}var v=e.querySelector(".popup__close-btn"),y=e.querySelectorAll(".popup__item");t.addEventListener("click",function(t){t.preventDefault(),w.style.display="flex",L.classList.add("popup-overlay_showed"),e.classList.add("popup_animated"),m.classList.add("overflow"),window.addEventListener("keydown",o),document.addEventListener("click",i),e==k&&(A.addEventListener("click",a),M.addEventListener("click",r),C.addEventListener("click",s),B.addEventListener("click",l)),e==b&&(T.addEventListener("click",d),D.addEventListener("click",r),U.addEventListener("click",c)),e==I&&(H.addEventListener("focus",u),document.addEventListener("click",p))})}function n(e,t,n,o){for(var i,r=0;r<e.length;r+=1)e[r].classList.contains(o)&&(i=n*r,t.style.transform="translateX("+i+"%)")}function o(e,t,o,i,r){e.addEventListener("click",function(e){var c=e.target;if(c.classList.contains("slider__toggle")){if(e.preventDefault(),c.classList.contains(r))return!1;for(var s=0;s<t.length;s+=1)t[s].classList.remove(r);c.classList.add(r),n(t,o,i,r)}})}function i(e,t,o,i){for(var r=0;r<e.length;r+=1)if(e[r].classList.contains(i)&&r!=e.length-1){e[r].classList.remove(i),e[r+1].classList.add(i),n(e,t,o,i);break}}function r(e,t,o,i){for(var r=0;r<e.length;r+=1)if(e[r].classList.contains(i)&&0!=r){e[r].classList.remove(i),e[r-1].classList.add(i),n(e,t,o,i);break}}function c(e,t,n,o){t.addEventListener("touchstart",function(e){c=e.touches[0].clientX,s=e.touches[0].clientY},!1),t.addEventListener("touchmove",function(l){if(c&&s){var a=l.touches[0].clientX,d=l.touches[0].clientY,u=c-a,m=s-d;Math.abs(u)+Math.abs(m)>150&&(Math.abs(u)>Math.abs(m)&&(u>0?i(e,t,n,o):r(e,t,n,o)),c=null,s=null)}},!1);var c=null,s=null}function s(){j.style.boxShadow="none",j.style.borderColor="#e7eaec"}function l(){j.style.boxShadow="",j.style.borderColor=""}function a(e,t){function n(){c.style.display="block",r.style.display="none"}function o(n){var i=n.target;if(n.preventDefault(),i.classList.contains("search-context__item")){if(i.classList.contains("search-context__item_doctor")){var r=i.querySelector(".search-context__doctor-name").textContent,c=i.querySelector(".search-context__doctor-kind").textContent;e.value=r+" - "+c}else e.value=i.textContent;t.removeEventListener("click",o)}}function i(a){a.target!=e&&a.target!=s&&(a.target!=V&&a.target!=G&&l(),e.removeEventListener("input",n),t.removeEventListener("click",o),document.removeEventListener("click",i),t.style.display="",c.style.display="",r.style.display="")}t.style.display="block";var r=t.querySelector(".search-context__last"),c=t.querySelector(".search-context__search"),s=e.nextElementSibling;e.addEventListener("input",n),t.addEventListener("click",o),document.addEventListener("click",i)}function d(){f.style.position="absolute",window.removeEventListener("scroll",e,!1),L.classList.add("popup-overlay_showed-mobile"),y.classList.add("overflow-mobile"),y.classList.add("page-move"),v.classList.add("add-perspective"),ue.classList.add("shadow1-change"),me.classList.add("shadow2-change"),ae.classList.add("scale-tablet"),de.classList.add("search-open"),de.scrollIntoView(!1)}function u(){L.classList.remove("popup-overlay_showed-mobile"),y.classList.remove("overflow-mobile"),y.classList.remove("page-move"),ue.classList.remove("shadow1-change"),me.classList.remove("shadow2-change"),ae.classList.remove("scale-tablet"),v.classList.remove("add-perspective"),de.classList.remove("search-open"),window.matchMedia("(min-width: 768px)").matches?setTimeout(function(){$(window).scrollTop()>=350&&(f.style.position="fixed",f.style.transform="",f.style.animation="animateMenu 0.5s forwards")},1100):f.style.position="fixed",setTimeout(function(){window.addEventListener("scroll",e,!1)},1200)}var m=document.querySelector(".body"),p=document.querySelector(".main-search"),v=document.querySelector(".body__wrapper"),y=document.querySelector(".body__inner"),f=document.querySelector(".main-nav"),_=document.querySelector(".main-nav__check"),h=document.querySelector(".reviews__slider"),g=document.querySelector(".advantages"),L=document.querySelector(".popup-overlay"),w=document.querySelector(".popup-wrapper"),k=document.querySelector(".checkIn"),S=document.querySelector(".main-nav__link_reg"),b=document.querySelector(".signIn"),q=document.querySelector(".main-nav__link_enter"),E=document.querySelector(".main-nav__location-link"),x=document.querySelector(".main-nav__location-link2"),I=document.querySelector(".popup-city"),T=document.querySelector(".popup__reg-link"),A=document.querySelector(".popup__sign-link"),M=document.querySelector(".checkIn__1-btn_email"),C=document.querySelector(".checkIn__1-btn_phone"),B=document.querySelector(".popup__input-svg_back"),D=document.querySelector(".signIn__1-forgot-pass"),U=document.querySelector(".signIn__2-bethinked-pass"),H=(document.querySelector(".checkIn__social-block"),document.querySelector(".popup-city__input")),z=document.querySelector(".popup-city__items");(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios"),_.addEventListener("change",function(){_.checked?m.classList.add("overflow-mobile"):m.classList.remove("overflow-mobile")}),window.addEventListener("scroll",e,!1),t(k,S),t(b,q),t(I,E),t(I,x);var Y=!1,N=function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.bottom;return n>=0&&o<=window.innerHeight};if(g){for(var W=g.querySelectorAll(".advantages__description-wrapper"),P=g.querySelectorAll(".advantages__number"),O=g.querySelectorAll(".advantages__number-pre-in"),R=g.querySelectorAll(".advantages__number-past-in"),X=0;X<W.length;X+=1)W[X].style.transform="translate3d(0,100px,0)",W[X].style.opacity="0";document.addEventListener("DOMContentLoaded",F,!1),window.addEventListener("scroll",function(e){0==Y&&window.requestAnimationFrame(function(){F(e),Y=!1}),Y=!0},!1);var F=function(e){N(O[0])&&(O[0].style.transform="scaleY(1)",setTimeout(function(){P[0].style.animation="rubberBand 1s forwards",W[0].style.animation="toUp 0.3s forwards",setTimeout(function(){R[0].style.transform="scaleY(1)",setTimeout(function(){O[1].style.transform="scaleY(1)",setTimeout(function(){P[1].style.animation="rubberBand 1s forwards",W[1].style.animation="toUp 0.3s forwards",setTimeout(function(){R[1].style.transform="scaleY(1)",setTimeout(function(){O[2].style.transform="scaleY(1)",setTimeout(function(){P[2].style.animation="rubberBand 1s forwards",W[2].style.animation="toUp 0.3s forwards"},300)},300)},300)},300)},300)},300)},500))}}h&&function(e,t,n){var s=e.querySelector(".slider__list"),l=e.querySelector(".slider__toggles"),a=l.querySelectorAll(".slider__toggle"),d=e.querySelector(".slider__prev"),u=e.querySelector(".slider__next");o(l,a,s,t,n),c(a,s,t,n),d&&u&&(u.addEventListener("click",function(){i(a,s,t,n)}),d.addEventListener("click",function(){r(a,s,t,n)}))}(h,-100,"reviews__toggle-index");var G=document.querySelector(".main-index__search-input_services"),V=document.querySelector(".main-index__search-input_city"),j=document.querySelector(".main-index__search-wrapper"),J=document.querySelector(".main-index__search-context_services-and-history"),K=document.querySelector(".main-index__search-context_location-and-history"),Q=document.querySelector(".popup-search__input_services"),Z=document.querySelector(".popup-search__input_city"),ee=document.querySelector(".popup-search__context_services-and-history"),te=document.querySelector(".popup-search__context_location-and-history");G&&(G.onclick=function(){s(),a(G,J)}),V&&(V.onclick=function(){s(),a(V,K)}),Q.onclick=function(){a(Q,ee)},Z.onclick=function(){a(Z,te)};for(var ne=document.querySelectorAll(".clear-svg"),oe=0;oe<ne.length;oe+=1)ne[oe].addEventListener("click",function(e){for(var t=e.target.previousElementSibling;"INPUT"!=t.tagName;)t=t.previousElementSibling;t.value=""});for(var ie=document.querySelectorAll(".password-svg"),re=0;re<ie.length;re+=1)ie[re].addEventListener("click",function(e){for(var t=e.target.previousElementSibling;"INPUT"!=t.tagName;)t=t.previousElementSibling;"password"==t.type?t.setAttribute("type","text"):t.setAttribute("type","password")});var ce=document.querySelector(".main-nav__search-link"),se=document.querySelector(".main-index__search-input-trick"),le=document.querySelector(".popup-search__close-btn"),ae=document.querySelector(".close-search-btn"),de=document.querySelector(".popup-search"),ue=document.querySelector(".page-shadow1"),me=document.querySelector(".page-shadow2");ce.addEventListener("click",d),se&&se.addEventListener("click",d),le.addEventListener("click",u),ae.addEventListener("click",u),document.addEventListener("keyup",function(e){27==e.keyCode&&u()});var pe={prefix:"custom-scroll_",barMinHeight:10,offsetTop:0,offsetBottom:0,trackWidth:10,barMinWidth:10,offsetLeft:0,offsetRight:0,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!1},ve={prefix:"custom-scroll-2_",barMinHeight:10,offsetTop:0,offsetBottom:0,trackWidth:10,barMinWidth:10,offsetLeft:0,offsetRight:0,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!1};if($("#scroll-1").customScroll(pe),$("#scroll-2").customScroll(pe),$("#scroll-3").customScroll(ve),$("#scroll-4").customScroll(ve),$("#scroll-5").customScroll(ve),p){var ye=document.querySelector(".card-sorting__check"),fe=document.querySelector(".card-sorting"),_e=document.querySelector(".main-search__filters-toggle"),he=document.querySelector(".search-filters"),ge=document.querySelector(".search-filters__close-btn"),Le=document.querySelectorAll(".search-filters__filter"),we=document.querySelectorAll(".search-filters__form"),ke=document.querySelectorAll(".search-filters__form-cancel");document.addEventListener("click",function(e){var t;if(fe.contains(e.target)&&!e.target.classList.contains("card-sorting__variant")||1!=ye.checked||(ye.checked=""),_e.contains(e.target)&&(he.classList.add("visible-block"),m.classList.add("overflow-no-widescreen")),ge.contains(e.target))for(he.classList.remove("visible-block"),m.classList.remove("overflow-no-widescreen"),t=0;t<we.length;t+=1)we[t].classList.remove("visible-block");for(t=0;t<Le.length;t+=1)Le[t].contains(e.target)&&we[t].classList.add("visible-block");for(t=0;t<ke.length;t+=1)ke[t].contains(e.target)&&we[t].classList.remove("visible-block")})}if(document.querySelector(".price-block")){var Se=document.getElementById("filter-range"),be=document.getElementById("filter-price-min"),qe=document.getElementById("filter-price-max"),Ee=[be,qe],xe=parseInt(Se.dataset.left),Ie=parseInt(Se.dataset.right),Te=parseInt(Se.dataset.min),Ae=parseInt(Se.dataset.max);be.oninput=function(){be.style.width=8*be.value.length+"px"},qe.oninput=function(){qe.style.width=8*qe.value.length+"px"},noUiSlider.create(Se,{start:[xe,Ie],connect:!0,step:10,range:{min:Te,max:Ae},format:wNumb({decimals:0})}),Se.noUiSlider.on("update",function(e,t){Ee[t].value=e[t],be.style.width=8*be.value.length+"px",qe.style.width=8*qe.value.length+"px"});var Me=function(e,t){var n=[null,null];n[e]=t,Se.noUiSlider.set(n)};Ee.forEach(function(e,t){e.addEventListener("change",function(){Me(t,this.value)}),e.addEventListener("keydown",function(e){var n,o=Se.noUiSlider.get(),i=Number(o[t]),r=Se.noUiSlider.steps()[t];switch(e.which){case 13:Me(t,this.value),e.preventDefault();break;case 38:!1===(n=r[1])&&(n=1),null!==n&&Me(t,i+n);break;case 40:!1===(n=r[0])&&(n=1),null!==n&&Me(t,i-n)}})});var Ce=Se.clientWidth,$e=$(".bar");$.fn.peity.defaults.bar={delimiter:",",fill:["#e6e6e6"],height:40,max:null,min:0,padding:.1,width:Ce},$e.peity("bar"),$(window).resize(function(){$e.peity("bar",{width:0}),Ce=Se.clientWidth,$e.peity("bar",{width:Ce})})}}(),$(document).ready(function(){document.querySelector(".cutted-text")&&$(".cutted-text").dotdotdot({ellipsis:"… ",truncate:"word",keep:null,watch:"window",tolerance:0})}),function(){document.getElementById("map")&&google.maps.event.addDomListener(window,"load",function(){var e=new google.maps.LatLng(56.499883782746224,84.99850023423404),t={zoom:16,center:e,disableDefaultUI:!0,draggable:!0,scrollwheel:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}},n=new google.maps.Map(document.getElementById("map"),t);new google.maps.Marker({position:e,map:n,icon:{url:"./assets/icons/mappin.svg"},title:"Врач"}),google.maps.event.addDomListener(window,"resize",function(){n.setCenter(e)})})}();