!function(){"use strict";function e(){window.matchMedia("(min-width: 768px)").matches&&(0===$(window).scrollTop()&&(g.style.position="absolute",g.style.animation="",g.style.transform="translate3d(0,0,0)"),$(window).scrollTop()>=350&&(g.style.position="fixed",g.style.transform="",g.style.animation="animateMenu 0.5s forwards"))}function t(e,t){function n(){k.style.display="",e.classList.remove("popup_animated"),S.classList.remove("popup-overlay_showed"),v.classList.remove("overflow");for(var t=1;t<f.length;t+=1)f[t].style.display="none";e!=b&&e!=E||(f[0].style.display="block"),window.removeEventListener("keydown",o),document.removeEventListener("click",i),e==b&&(z.removeEventListener("click",s),B.removeEventListener("click",c),P.removeEventListener("click",a)),e==E&&(D.removeEventListener("click",s),U.removeEventListener("click",r)),e==M&&(H.removeEventListener("focus",u),document.removeEventListener("click",m))}function o(t){27===t.keyCode&&e.classList.contains("popup_animated")&&n()}function i(t){!e.classList.contains("popup_animated")||t.target!=k&&t.target!=p||n()}function s(){f[0].style.display="none",f[1].style.display="block"}function r(){f[1].style.display="none",f[0].style.display="block"}function c(){f[0].style.display="none",f[2].style.display="block"}function a(){f[3].style.display="none",f[2].style.display="block"}function l(e){e.preventDefault(),n(),C.removeEventListener("click",l),x.click()}function d(e){e.preventDefault(),n(),A.removeEventListener("click",d),q.click()}function u(){W.style.display="block"}function m(e){var t=e.target;(t.classList.contains("popup-city__item")||t.classList.contains("popup-city__popular-city"))&&(e.preventDefault(),H.value=t.textContent),e.target!=H&&setTimeout(function(){W.style.display=""},10)}var p=e.querySelector(".popup__close-btn"),f=e.querySelectorAll(".popup__item");t.addEventListener("click",function(t){t.preventDefault(),k.style.display="flex",S.classList.add("popup-overlay_showed"),e.classList.add("popup_animated"),v.classList.add("overflow"),window.addEventListener("keydown",o),document.addEventListener("click",i),e==b&&(C.addEventListener("click",l),z.addEventListener("click",s),B.addEventListener("click",c),P.addEventListener("click",a)),e==E&&(A.addEventListener("click",d),D.addEventListener("click",s),U.addEventListener("click",r)),e==M&&(H.addEventListener("focus",u),document.addEventListener("click",m))})}function n(e,t,n,o){for(var i,s=0;s<e.length;s+=1)e[s].classList.contains(o)&&(i=n*s,t.style.transform="translateX("+i+"%)")}function o(e,t,o,i,s){e.addEventListener("click",function(e){var r=e.target;if(r.classList.contains("slider__toggle")){if(e.preventDefault(),r.classList.contains(s))return!1;for(var c=0;c<t.length;c+=1)t[c].classList.remove(s);r.classList.add(s),n(t,o,i,s)}})}function i(e,t,o,i){for(var s=0;s<e.length;s+=1)if(e[s].classList.contains(i)&&s!=e.length-1){e[s].classList.remove(i),e[s+1].classList.add(i),n(e,t,o,i);break}}function s(e,t,o,i){for(var s=0;s<e.length;s+=1)if(e[s].classList.contains(i)&&0!=s){e[s].classList.remove(i),e[s-1].classList.add(i),n(e,t,o,i);break}}function r(e,t,n,o){t.addEventListener("touchstart",function(e){r=e.touches[0].clientX,c=e.touches[0].clientY},!1),t.addEventListener("touchmove",function(a){if(r&&c){var l=a.touches[0].clientX,d=a.touches[0].clientY,u=r-l,m=c-d;Math.abs(u)+Math.abs(m)>150&&(Math.abs(u)>Math.abs(m)&&(u>0?i(e,t,n,o):s(e,t,n,o)),r=null,c=null)}},!1);var r=null,c=null}function c(){K.style.boxShadow="none",K.style.borderColor="#e7eaec"}function a(){K.style.boxShadow="",K.style.borderColor=""}function l(e,t){function n(){r.style.display="block",s.style.display="none"}function o(n){var i=n.target;if(n.preventDefault(),i.classList.contains("search-context__item")){if(i.classList.contains("search-context__item_doctor")){var s=i.querySelector(".search-context__doctor-name").textContent,r=i.querySelector(".search-context__doctor-kind").textContent;e.value=s+" - "+r}else e.value=i.textContent;t.removeEventListener("click",o)}}function i(l){l.target!=e&&l.target!=c&&(l.target!=V&&l.target!=J&&a(),e.removeEventListener("input",n),t.removeEventListener("click",o),document.removeEventListener("click",i),t.style.display="",r.style.display="",s.style.display="")}t.style.display="block";var s=t.querySelector(".search-context__last"),r=t.querySelector(".search-context__search"),c=e.nextElementSibling;e.addEventListener("input",n),t.addEventListener("click",o),document.addEventListener("click",i)}function d(){g.style.position="absolute",window.removeEventListener("scroll",e,!1),S.classList.add("popup-overlay_showed-mobile"),_.classList.add("overflow-mobile"),_.classList.add("page-move"),y.classList.add("add-perspective"),pe.classList.add("shadow1-change"),ve.classList.add("shadow2-change"),ue.classList.add("scale-tablet"),me.classList.add("search-open"),me.scrollIntoView(!1)}function u(){S.classList.remove("popup-overlay_showed-mobile"),_.classList.remove("overflow-mobile"),_.classList.remove("page-move"),pe.classList.remove("shadow1-change"),ve.classList.remove("shadow2-change"),ue.classList.remove("scale-tablet"),y.classList.remove("add-perspective"),me.classList.remove("search-open"),window.matchMedia("(min-width: 768px)").matches?setTimeout(function(){$(window).scrollTop()>=350&&(g.style.position="fixed",g.style.transform="",g.style.animation="animateMenu 0.5s forwards")},1100):g.style.position="fixed",setTimeout(function(){window.addEventListener("scroll",e,!1)},1200)}function m(){for(we.classList.remove("visible-45"),v.classList.remove("overflow-no-widescreen"),j=0;j<ke.length;j+=1)ke[j].classList.remove("visible-45");g.classList.remove("zindex")}function p(){Ee.classList.remove("visible-10"),v.classList.remove("overflow-no-widescreen")}var v=document.querySelector(".body"),f=document.querySelector(".main-search"),y=document.querySelector(".body__wrapper"),_=document.querySelector(".body__inner"),g=document.querySelector(".main-nav"),h=document.querySelector(".main-nav__check"),w=document.querySelector(".reviews__slider"),L=document.querySelector(".advantages"),S=document.querySelector(".popup-overlay"),k=document.querySelector(".popup-wrapper"),b=document.querySelector(".checkIn"),q=document.querySelector(".main-nav__link_reg"),E=document.querySelector(".signIn"),x=document.querySelector(".main-nav__link_enter"),I=document.querySelector(".main-nav__location-link"),T=document.querySelector(".main-nav__location-link2"),M=document.querySelector(".popup-city"),A=document.querySelector(".popup__reg-link"),C=document.querySelector(".popup__sign-link"),z=document.querySelector(".checkIn__1-btn_email"),B=document.querySelector(".checkIn__1-btn_phone"),P=document.querySelector(".popup__input-svg_back"),D=document.querySelector(".signIn__1-forgot-pass"),U=document.querySelector(".signIn__2-bethinked-pass"),H=(document.querySelector(".checkIn__social-block"),document.querySelector(".popup-city__input")),W=document.querySelector(".popup-city__items");(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i))&&document.querySelector("html").classList.add("is-ios"),h.addEventListener("change",function(){h.checked?v.classList.add("overflow-mobile"):v.classList.remove("overflow-mobile")}),window.addEventListener("scroll",e,!1),t(b,q),t(E,x),t(M,I),t(M,T);var Y=!1,N=function(e){var t=e.getBoundingClientRect(),n=t.top,o=t.bottom;return n>=0&&o<=window.innerHeight};if(L){for(var O=L.querySelectorAll(".advantages__description-wrapper"),R=L.querySelectorAll(".advantages__number"),G=L.querySelectorAll(".advantages__number-pre-in"),X=L.querySelectorAll(".advantages__number-past-in"),j=0;j<O.length;j+=1)O[j].style.transform="translate3d(0,100px,0)",O[j].style.opacity="0";document.addEventListener("DOMContentLoaded",F,!1),window.addEventListener("scroll",function(e){0==Y&&window.requestAnimationFrame(function(){F(e),Y=!1}),Y=!0},!1);var F=function(e){N(G[0])&&(G[0].style.transform="scaleY(1)",setTimeout(function(){R[0].style.animation="rubberBand 1s forwards",O[0].style.animation="toUp 0.3s forwards",setTimeout(function(){X[0].style.transform="scaleY(1)",setTimeout(function(){G[1].style.transform="scaleY(1)",setTimeout(function(){R[1].style.animation="rubberBand 1s forwards",O[1].style.animation="toUp 0.3s forwards",setTimeout(function(){X[1].style.transform="scaleY(1)",setTimeout(function(){G[2].style.transform="scaleY(1)",setTimeout(function(){R[2].style.animation="rubberBand 1s forwards",O[2].style.animation="toUp 0.3s forwards"},300)},300)},300)},300)},300)},300)},500))}}w&&function(e,t,n){var c=e.querySelector(".slider__list"),a=e.querySelector(".slider__toggles"),l=a.querySelectorAll(".slider__toggle"),d=e.querySelector(".slider__prev"),u=e.querySelector(".slider__next");o(a,l,c,t,n),r(l,c,t,n),d&&u&&(u.addEventListener("click",function(){i(l,c,t,n)}),d.addEventListener("click",function(){s(l,c,t,n)}))}(w,-100,"reviews__toggle-index");var J=document.querySelector(".main-index__search-input_services"),V=document.querySelector(".main-index__search-input_city"),K=document.querySelector(".main-index__search-wrapper"),Q=document.querySelector(".main-index__search-context_services-and-history"),Z=document.querySelector(".main-index__search-context_location-and-history"),ee=document.querySelector(".popup-search__input_services"),te=document.querySelector(".popup-search__input_city"),ne=document.querySelector(".popup-search__context_services-and-history"),oe=document.querySelector(".popup-search__context_location-and-history");J&&(J.onclick=function(){c(),l(J,Q)}),V&&(V.onclick=function(){c(),l(V,Z)}),ee.onclick=function(){l(ee,ne)},te.onclick=function(){l(te,oe)};for(var ie=document.querySelectorAll(".clear-svg"),se=0;se<ie.length;se+=1)ie[se].addEventListener("click",function(e){for(var t=e.target.previousElementSibling;"INPUT"!=t.tagName;)t=t.previousElementSibling;t.value=""});for(var re=document.querySelectorAll(".password-svg"),ce=0;ce<re.length;ce+=1)re[ce].addEventListener("click",function(e){for(var t=e.target.previousElementSibling;"INPUT"!=t.tagName;)t=t.previousElementSibling;"password"==t.type?t.setAttribute("type","text"):t.setAttribute("type","password")});var ae=document.querySelector(".main-nav__search-link"),le=document.querySelector(".main-index__search-input-trick"),de=document.querySelector(".popup-search__close-btn"),ue=document.querySelector(".close-search-btn"),me=document.querySelector(".popup-search"),pe=document.querySelector(".page-shadow1"),ve=document.querySelector(".page-shadow2");ae.addEventListener("click",d),le&&le.addEventListener("click",d),de.addEventListener("click",u),ue.addEventListener("click",u),document.addEventListener("keyup",function(e){27==e.keyCode&&u()});var fe={prefix:"custom-scroll_",barMinHeight:10,offsetTop:0,offsetBottom:0,trackWidth:10,barMinWidth:10,offsetLeft:0,offsetRight:0,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!1},ye={prefix:"custom-scroll-2_",barMinHeight:10,offsetTop:0,offsetBottom:0,trackWidth:10,barMinWidth:10,offsetLeft:0,offsetRight:0,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!1};if($("#scroll-1").customScroll(fe),$("#scroll-2").customScroll(fe),$("#scroll-3").customScroll(ye),$("#scroll-4").customScroll(ye),$("#scroll-5").customScroll(ye),f){var _e=document.querySelector(".card-sorting__check"),ge=document.querySelector(".card-sorting"),he=document.querySelector(".main-search__filters-toggle"),we=document.querySelector(".search-filters"),Le=document.querySelector(".search-filters__close-btn"),Se=document.querySelectorAll(".search-filters__filter"),ke=document.querySelectorAll(".search-filters__form"),be=document.querySelectorAll(".search-filters__form-cancel"),qe=document.querySelector(".main-search__map-btn"),Ee=document.querySelector(".map-container"),xe=document.querySelector(".map-container__close-btn");document.addEventListener("click",function(e){var t;for(ge.contains(e.target)&&!e.target.classList.contains("card-sorting__variant")||1!=_e.checked||(_e.checked=""),he.contains(e.target)&&(we.classList.add("visible-45"),v.classList.add("overflow-no-widescreen")),Le.contains(e.target)&&m(),t=0;t<Se.length;t+=1)Se[t].contains(e.target)&&(ke[t].classList.add("visible-45"),g.classList.add("zindex"));for(t=0;t<be.length;t+=1)be[t].contains(e.target)&&(ke[t].classList.remove("visible-45"),g.classList.remove("zindex"));qe.contains(e.target)&&(Ee.classList.add("visible-10"),v.classList.add("overflow-no-widescreen")),xe.contains(e.target)&&p()}),window.addEventListener("keydown",function(e){27===e.keyCode&&(m(),p())})}if(document.querySelector(".price-block")){var Ie=document.getElementById("filter-range"),Te=document.getElementById("filter-price-min"),Me=document.getElementById("filter-price-max"),Ae=[Te,Me],Ce=parseInt(Ie.dataset.left),ze=parseInt(Ie.dataset.right),$e=parseInt(Ie.dataset.min),Be=parseInt(Ie.dataset.max),Pe=function(e){e.value=e.value.replace(/[^\d]+/g,"")};Te.oninput=function(){Pe(Te),Te.style.width=8*Te.value.length+"px"},Me.oninput=function(){Pe(Me),Me.style.width=8*Me.value.length+"px"},noUiSlider.create(Ie,{start:[Ce,ze],connect:!0,step:10,range:{min:$e,max:Be},format:wNumb({decimals:0})}),Ie.noUiSlider.on("update",function(e,t){Ae[t].value=e[t],Te.style.width=8*Te.value.length+"px",Me.style.width=8*Me.value.length+"px"});var De=function(e,t){var n=[null,null];n[e]=t,Ie.noUiSlider.set(n)};Ae.forEach(function(e,t){e.addEventListener("change",function(){De(t,this.value)}),e.addEventListener("keydown",function(e){var n,o=Ie.noUiSlider.get(),i=Number(o[t]),s=Ie.noUiSlider.steps()[t];switch(e.which){case 13:De(t,this.value),e.preventDefault();break;case 38:!1===(n=s[1])&&(n=1),null!==n&&De(t,i+n);break;case 40:!1===(n=s[0])&&(n=1),null!==n&&De(t,i-n)}})});var Ue=Ie.clientWidth,He=$(".bar");$.fn.peity.defaults.bar={delimiter:",",fill:["#e6e6e6"],height:40,max:null,min:0,padding:.1,width:Ue},He.peity("bar"),$(window).resize(function(){He.peity("bar",{width:0}),Ue=Ie.clientWidth,He.peity("bar",{width:Ue})})}}(),$(document).ready(function(){document.querySelector(".cutted-text")&&$(".cutted-text").dotdotdot({ellipsis:"… ",truncate:"word",keep:null,watch:"window",tolerance:0})}),function(){document.getElementById("map")&&google.maps.event.addDomListener(window,"load",function(){var e=new google.maps.LatLng(56.499883782746224,84.99850023423404),t={zoom:16,center:e,disableDefaultUI:!0,draggable:!0,scrollwheel:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}},n=new google.maps.Map(document.getElementById("map"),t);n.data.loadGeoJson("json/googleMap.json");var o=new google.maps.MarkerImage("./assets/icons/mappin.svg",new google.maps.Size(44,36)),i=new google.maps.MarkerImage("./assets/icons/mappin-h.svg",new google.maps.Size(44,36));n.data.setStyle(function(e){return{icon:o}});var s=new google.maps.InfoWindow({maxWidth:280});n.data.addListener("mouseover",function(e){n.data.revertStyle(),n.data.overrideStyle(e.feature,{icon:i}),s.setPosition(e.feature.getGeometry().get()),s.setOptions({pixelOffset:new google.maps.Size(0,-30)});var t=e.feature.getProperty("faceImage"),o=e.feature.getProperty("alt"),r=e.feature.getProperty("name"),c=e.feature.getProperty("description"),a=e.feature.getProperty("stars"),l=e.feature.getProperty("address");s.setContent('<div class="infowindow"><div class="infowindow__image-wrapper"><img class="infowindow__image" src= "'+t+'" alt="'+o+'"></div><div class="infowindow__content"><div class="infowindow__title">'+r+'</div><div class="infowindow__description">'+c+'</div><div class="infowindow__stars-container"><div class="infowindow__stars" style="width:'+a+'"></div></div><div class="infowindow__description">'+l+"</div></div></div>"),s.open(n)}),google.maps.event.addListener(n,"click",function(e){s&&(s.close(),n.data.revertStyle())}),google.maps.event.addDomListener(window,"resize",function(){n.setCenter(e)})})}();